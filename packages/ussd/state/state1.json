{"lastStepId":221,"nodes":[{"name":"start","label":"Welcome","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","capture":{"regex":"\\d{8}$","data":"$core_From","varName":"msisdn","varScope":"app"}},{"name":"A2","assign":{"expression":"35.178.164.91","varName":"ip","varScope":"app"}},{"name":"A3","assign":{"expression":"3001","varName":"port","varScope":"app"}},{"name":"A4","assign":{"expression":"5bec09570b922714f1d08c85","varName":"company","varScope":"app"}}],"kind":"control","name":"step7"},{"message":"$msisdn","kind":"log","label":"log","title":"log","name":"step8"},{"url":"http://35.178.164.91:3001/ussd/checkSubscriberUssd","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"errorCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step2"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$errorCode","operand2":"404","type":"numeric"}}],"actions":[{"name":"A2","assign":{"expression":"0","varName":"registred","varScope":"app"}},{"name":"A1","continueTo":{"target":"module1"}}],"conditionExpression":"C1","kind":"control","name":"step3"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$errorCode","operand2":"201","type":"numeric"}}],"actions":[{"name":"A2","assign":{"expression":"1","varName":"registred","varScope":"app"}},{"name":"A1","continueTo":{"target":"module59"}}],"conditionExpression":"C1","kind":"control","name":"step6"}]},{"name":"module1","label":"registration","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module3"}]},"messages":[{"text":"Bienvenue sur SAHAM Mobile. Votre numéro de CNI sera utilisé pour vous abonner au service."},{"text":"1.continuer"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step9"}]},{"name":"module3","label":"getPlanCategories","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getPlanCategories","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"categoriesDataCount","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesDataCount","action":"propertyNamed","property":"categoriesDataCount"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step10"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"1","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module4"}}],"conditionExpression":"C1","kind":"control","name":"step11"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"2","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module5"}}],"conditionExpression":"C1","kind":"control","name":"step12"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"3","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module6"}}],"conditionExpression":"C1","kind":"control","name":"step17"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"4","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module7"}}],"conditionExpression":"C1","kind":"control","name":"step18"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"5","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module8"}}],"conditionExpression":"C1","kind":"control","name":"step19"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"6","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module9"}}],"conditionExpression":"C1","kind":"control","name":"step20"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"7","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module10"}}],"conditionExpression":"C1","kind":"control","name":"step21"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"8","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module11"}}],"conditionExpression":"C1","kind":"control","name":"step22"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"9","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module12"}}],"conditionExpression":"C1","kind":"control","name":"step23"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoriesDataCount","operand2":"10","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module13"}}],"conditionExpression":"C1","kind":"control","name":"step24"}]},{"name":"module4","label":"OneCategory","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getPlanCategories","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step13"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module30"}]},"messages":[{"text":"Chère Client veuillez sélectionner un produit:"},{"text":"1.$firstCategoryName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step14"}]},{"name":"module5","label":"TwoCategories","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getPlanCategories","method":"GET","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","assignments":[{"destVariable":"firstCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step16"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module30"},{"digits":"2","next":"module31"}]},"messages":[{"text":"Chère Client veuillez sélectionner un produit:"},{"text":"1. $firstCategoryName"},{"text":"2. $secondCategoryName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step15"}]},{"name":"module6","label":"ThreeCategories","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getPlanCategories","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step25"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module30"},{"digits":"2","next":"module31"},{"digits":"3","next":"module32"}]},"messages":[{"text":"Chère Client veuillez sélectionner un produit:"},{"text":"1. $firstCategoryName"},{"text":"2. $secondCategoryName"},{"text":"3. $thirdCategoryName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step26"}]},{"name":"module7","label":"FourCategories","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getPlanCategories","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step27"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module30"},{"digits":"2","next":"module31"},{"digits":"3","next":"module32"},{"digits":"4","next":"module33"}]},"messages":[{"text":"Chère Client veuillez sélectionner un produit:"},{"text":"1. $firstCategoryName"},{"text":"2. $secondCategoryName"},{"text":"3.$thirdCategoryName"},{"text":"4. $fourthCategoryName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step28"}]},{"name":"module8","label":"FiveCategories","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getPlanCategories","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step29"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module30"},{"digits":"2","next":"module31"},{"digits":"3","next":"module32"},{"digits":"4","next":"module33"},{"digits":"5","next":"module34"}]},"messages":[{"text":"Chère Client veuillez sélectionner un produit"},{"text":"1.$firstCategoryName"},{"text":"2.$secondCategoryName"},{"text":"3.$thirdCategoryName"},{"text":"4.$fourthCategoryName"},{"text":"5.$fifthCategoryName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step30"}]},{"name":"module9","label":"SixCategories","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getPlanCategories","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstCategoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstCategoryName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondCategoryName","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thridCategoryId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdCategoryName","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthCategoryId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthCategoryName","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthCategoryId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthCategoryName","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthCategoryId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthCategoryName","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".categoriesData","action":"propertyNamed","property":"categoriesData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryName","action":"propertyNamed","property":"categoryName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step32"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module30"},{"digits":"2","next":"module31"},{"digits":"3","next":"module32"},{"digits":"4","next":"module33"},{"digits":"5","next":"module34"},{"digits":"6","next":"module91"}]},"messages":[{"text":"Chère Client veuillez sélectionner un produit"},{"text":"1. $firstCategoryName"},{"text":"2. $secondCategoryName"},{"text":"3. $thirdCategoryName"},{"text":"4. $fourthCategoryName"},{"text":"5. $fifthCategoryName"},{"text":"6. $sixthCategoryName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step205"}]},{"name":"module10","label":"SevenCategories","kind":"ussd","steps":[]},{"name":"module11","label":"EightCategories","kind":"ussd","steps":[]},{"name":"module12","label":"NineCategories","kind":"ussd","steps":[]},{"name":"module13","label":"TenCategories","kind":"ussd","steps":[]},{"name":"module14","label":"GetPlanListPerCategories","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"},{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"planDataCount","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planDataCount","action":"propertyNamed","property":"planDataCount"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step33"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$planDataCount","operand2":"1","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module27"}}],"conditionExpression":"C1","kind":"control","name":"step34"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$planDataCount","operand2":"2","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module41"}}],"conditionExpression":"C1","kind":"control","name":"step52"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$planDataCount","operand2":"3","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module42"}}],"conditionExpression":"C1","kind":"control","name":"step53"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$planDataCount","operand2":"4","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module43"}}],"conditionExpression":"C1","kind":"control","name":"step54"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$planDataCount","operand2":"5","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module44"}}],"conditionExpression":"C1","kind":"control","name":"step55"}]},{"name":"module15","label":"GetServicePerPlan","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"contact","value":"$msisdn"},{"name":"planId","value":"$planId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"price","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".amountInvested","action":"propertyNamed","property":"amountInvested"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"planName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"descript","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".description","action":"propertyNamed","property":"description"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step37"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module64"}]},"messages":[{"text":"$descript $price"},{"text":"1. Procéder au paiement"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step69"}]},{"name":"module16","label":"","kind":"ussd","steps":[]},{"name":"module17","label":"IdCard","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module19","collectVariable":"idcard","scope":"application"},"messages":[{"text":"Veuillez saisir entièrement votre numéro de carte/attestation d\u0027identité"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step70"}]},{"name":"module18","label":"Authentification","kind":"ussd","steps":[{"message":"$otpcode","kind":"log","label":"log","title":"log","name":"step114"},{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module58","collectVariable":"otpcodeIN","scope":"application"},"messages":[{"text":"Composez le code à 4 chiffres $otpcode pour valider votre identité"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step71"}]},{"name":"module19","label":"RegisterToUssd","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/registerToUssd","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"contact\": \"$msisdn\",\n  \"countryCode\": \"+225\",\n  \"cardId\": \"$idcard\",\n  \"dob\": \"\",\n  \"name\": \"\",\n  \"operaterType\": 2\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step72"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module50"}}],"conditionExpression":"C1","kind":"control","name":"step73"}]},{"name":"module20","label":"CreateContractUSSD","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/createContractUssd","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"contact\": \"$msisdn\",\n  \"planId\": \"$planId\",\n  \"timezone\": 0,\n  \"operaterType\": 2\n}","assignments":[{"destVariable":"contractId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingData","action":"propertyNamed","property":"bookingData"},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"transactionId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingData","action":"propertyNamed","property":"bookingData"},{"kind":"object","fixed":true,"terminal":false,"expression":".transactionID","action":"propertyNamed","property":"transactionID"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"userId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingData","action":"propertyNamed","property":"bookingData"},{"kind":"object","fixed":true,"terminal":false,"expression":".userID","action":"propertyNamed","property":"userID"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"serviceId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingData","action":"propertyNamed","property":"bookingData"},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceID","action":"propertyNamed","property":"serviceID"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"amount","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingData","action":"propertyNamed","property":"bookingData"},{"kind":"object","fixed":true,"terminal":false,"expression":".price","action":"propertyNamed","property":"price"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step74"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module22"}}],"conditionExpression":"C1","kind":"control","name":"step75"}]},{"name":"module22","label":"GetBill","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getBill","urlParams":[{"name":"contractId","value":"$contractId"},{"name":"transactionId","value":"$transactionId"},{"name":"MSISDN","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"createdAt","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".transactionData","action":"propertyNamed","property":"transactionData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".createdAt","action":"propertyNamed","property":"createdAt"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"billMapTransactionId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".transactionData","action":"propertyNamed","property":"transactionData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".billMapTransactionId","action":"propertyNamed","property":"billMapTransactionId"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ewpTransactionId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".transactionData","action":"propertyNamed","property":"transactionData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".ewpTransactionId","action":"propertyNamed","property":"ewpTransactionId"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"reference","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".transactionData","action":"propertyNamed","property":"transactionData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".reference","action":"propertyNamed","property":"reference"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"message","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".message","action":"propertyNamed","property":"message"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step76"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$message","operand2":"Success","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module142"}}],"conditionExpression":"C1","kind":"control","name":"step77"}]},{"name":"module24","label":"ConfirmEnd","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"start"}]},"messages":[{"text":"Vous Avez Bien été enregistrer veuillez terminer en validant le paiement."},{"text":"1.Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step97"}]},{"name":"module27","label":"OnePlan","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"},{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step35"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module45"}]},"messages":[{"text":"1. $firstPlanName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step36"}]},{"name":"module30","label":"AssignFirstCategory","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$firstCategoryId","varName":"categoryId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module14"}}],"kind":"control","name":"step45"}]},{"name":"module31","label":"AssignSecondCategory","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$secondCategoryId","varName":"categoryId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module14"}}],"kind":"control","name":"step46"}]},{"name":"module32","label":"AssignThirdCategory","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$thirdCategoryId","varName":"categoryId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module14"}}],"kind":"control","name":"step47"}]},{"name":"module33","label":"AssignFourthCategory","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$fourthCategoryId","varName":"categoryId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module14"}}],"kind":"control","name":"step48"}]},{"name":"module34","label":"AssignFifthCategory","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$fifthCategoryId","varName":"categoryId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module14"}}],"kind":"control","name":"step49"}]},{"name":"module35","label":"AssignSixthCategory","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$sixthCategoryId","varName":"categoryId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module14"}}],"kind":"control","name":"step206"}]},{"name":"module36","label":"AssignSeventhCategory","kind":"ussd","steps":[]},{"name":"module37","label":"AssignEighthCategory","kind":"ussd","steps":[]},{"name":"module38","label":"AssignNinethCategory","kind":"ussd","steps":[]},{"name":"module39","label":"AssignTenthCategory","kind":"ussd","steps":[]},{"name":"module41","label":"TwoPlan","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"},{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step61"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module45"},{"digits":"2","next":"module46"}]},"messages":[{"text":"1.$firstPlanName"},{"text":"2.$secondPlanName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step63"}]},{"name":"module42","label":"ThreePlan","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"contact","value":"$msisdn"},{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step65"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module45"},{"digits":"2","next":"module46"},{"digits":"3","next":"module47"}]},"messages":[{"text":"1.$firstPlanName"},{"text":"2.$secondPlanName"},{"text":"3.$thirdPlanName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step66"}]},{"name":"module43","label":"FourPlan","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"contact","value":"$msisdn"},{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step67"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module45"},{"digits":"2","next":"module46"},{"digits":"3","next":"module32"},{"digits":"4","next":"module48"}]},"messages":[{"text":"1.$firstPlanName"},{"text":"2.$secondPlanName"},{"text":"3.$thirdPlanName"},{"text":"4.$fourthPlanName"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step68"}]},{"name":"module44","label":"FivePlan","kind":"ussd","steps":[]},{"name":"module45","label":"AssignFirstPlan","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$firstPlanId","varName":"planId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module61"}}],"kind":"control","name":"step56"}]},{"name":"module46","label":"AssignSecondPlan","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$secondPlanId","varName":"planId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module61"}}],"kind":"control","name":"step57"}]},{"name":"module47","label":"AssignThirdPlan","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$thirdPlanId","varName":"planId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module61"}}],"kind":"control","name":"step58"}]},{"name":"module48","label":"AssignFourthPlan","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$fourthPlanId","varName":"planId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module61"}}],"kind":"control","name":"step59"}]},{"name":"module49","label":"AssignFifthPlan","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$fifthPlanId","varName":"planId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module61"}}],"kind":"control","name":"step60"}]},{"name":"module50","label":"OtpUSSD","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/sendOtpUssd","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"contact\": \"$msisdn\",\n  \"countryCode\": \"+225\"\n}","assignments":[{"destVariable":"otpcode","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".otp","action":"propertyNamed","property":"otp"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"message","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".message","action":"propertyNamed","property":"message"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step81"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$message","operand2":"Success","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module18"}}],"conditionExpression":"C1","kind":"control","name":"step82"}]},{"name":"module51","label":"Menu","kind":"ussd","steps":[{"message":"$userName","kind":"log","label":"log","title":"log","name":"step204"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module52"},{"digits":"2","next":"module60"},{"digits":"3","next":"module55"}]},"messages":[{"text":"Bienvenue Chère Client(e) $userName sur SAHAM DIGITAL"},{"text":"1. Mon Compte"},{"text":"2.  Autres Produits"},{"text":"3.  Hopitaux"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step89"}]},{"name":"module52","label":"MyAccount","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module53"},{"digits":"2","next":"module54"},{"digits":"3","next":"module57"},{"digits":"0","next":"module51"}]},"messages":[{"text":"1.Mes produits"},{"text":"2. Assurer un ami"},{"text":"3.Desabonner"},{"text":"0.Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step90"}]},{"name":"module53","label":"MyProduct","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getContractDetails","urlParams":[{"name":"userId","value":"$userId"},{"name":"currentStatus","value":"COMPLETED"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"contractDataCount","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractDataCount","action":"propertyNamed","property":"contractDataCount"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step98"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$contractDataCount","operand2":"0","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module145"}}],"conditionExpression":"C1","kind":"control","name":"step208"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$contractDataCount","operand2":"6","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module83"}}],"conditionExpression":"C1","kind":"control","name":"step128"}]},{"name":"module54","label":"MyInsureRequest","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getReferralRequest","urlParams":[{"name":"contactNumber","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"referralDataCount","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".referralDataCount","action":"propertyNamed","property":"referralDataCount"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step105"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$referralDataCount","operand2":"0","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module143"}}],"conditionExpression":"C1","kind":"control","name":"step199"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$referralDataCount","operand2":"1","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module67"}}],"conditionExpression":"C1","kind":"control","name":"step106"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$referralDataCount","operand2":"2","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module68"}}],"conditionExpression":"C1","kind":"control","name":"step111"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$referralDataCount","operand2":"3","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module69"}}],"conditionExpression":"C1","kind":"control","name":"step112"}]},{"name":"module55","label":"HospitalNetwork","kind":"ussd","steps":[]},{"name":"module56","label":"MyLocation","kind":"ussd","steps":[]},{"name":"module57","label":"unregistrationRequest","kind":"ussd","steps":[]},{"name":"module58","label":"ConfirmOtp","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/verifyOtpUssd","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"contact\": \"$msisdn\",\n  \"mobileOtp\": $otpcodeIN\n}","assignments":[{"destVariable":"message","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".message","action":"propertyNamed","property":"message"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step83"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$message","operand2":"Success","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module20"}}],"conditionExpression":"C1","kind":"control","name":"step84"},{"conditions":[{"name":"C1","operator":"notequal","comparison":{"operand1":"$message","operand2":"Success","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module50"}}],"conditionExpression":"C1","kind":"control","name":"step85"}]},{"name":"module59","label":"Registred","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getUsersDetails","urlParams":[{"name":"contact","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"userId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".userData","action":"propertyNamed","property":"userData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"countryCode","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".userData","action":"propertyNamed","property":"userData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".countryCode","action":"propertyNamed","property":"countryCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"cardId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".userData","action":"propertyNamed","property":"userData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".cardId","action":"propertyNamed","property":"cardId"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"userName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".userData","action":"propertyNamed","property":"userData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".name","action":"propertyNamed","property":"name"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step86"},{"conditions":[],"actions":[{"name":"A1","continueTo":{"target":"module51"}}],"kind":"control","name":"step87"}]},{"name":"module60","label":"otherProduct(NEW)","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","continueTo":{"target":"module3"}}],"kind":"control","name":"step93"}]},{"name":"module61","label":"SwitchPaiement","kind":"ussd","steps":[{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$registred","operand2":"0","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module15"}}],"conditionExpression":"C1","kind":"control","name":"step91"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$registred","operand2":"1","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module62"}}],"conditionExpression":"C1","kind":"control","name":"step92"}]},{"name":"module62","label":"GetServicePerPlan2","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"contact","value":"$msisdn"},{"name":"planId","value":"$planId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"price","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".amountInvested","action":"propertyNamed","property":"amountInvested"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"planName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"descript","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".description","action":"propertyNamed","property":"description"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step94"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module50"},{"digits":"2","next":"module63"}]},"messages":[{"text":"$descript $price"},{"text":"1. Procéder au paiement"},{"text":"2.Demander a un ami"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step96"}]},{"name":"module63","label":"SendReferalRequestPlan","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module80","collectVariable":"contactNumber","scope":"application"},"messages":[{"text":"Veuillez entrer le numero  du tiers payeur"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step117"}]},{"name":"module64","label":"switchFlow","kind":"ussd","steps":[{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$registred","operand2":"0","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module17"}}],"conditionExpression":"C1","kind":"control","name":"step99"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$registred","operand2":"1","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module50"}}],"conditionExpression":"C1","kind":"control","name":"step100"}]},{"name":"module67","label":"OneRequest","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getReferralRequest","urlParams":[{"name":"contactNumber","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstRequestId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".referralData","action":"propertyNamed","property":"referralData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstRequestCode","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".referralData","action":"propertyNamed","property":"referralData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".code","action":"propertyNamed","property":"code"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstRequestMobile","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".referralData","action":"propertyNamed","property":"referralData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".mobile","action":"propertyNamed","property":"mobile"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step108"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module77"}]},"messages":[{"text":"Veuillez sélectionner la transaction a payer"},{"text":"1. ID : $firstRequestCode-  numero demandeur :  $firstRequestMobile"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step202"}]},{"name":"module68","label":"TwoRequest","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getReferralRequest","urlParams":[{"name":"contactNumber","value":"$msisdn"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step109"}]},{"name":"module69","label":"ThreeRequest","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getReferralRequest","urlParams":[{"name":"contact","value":"$msisdn"}],"assignments":[],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step110"}]},{"name":"module70","label":"FourRequest","kind":"ussd","steps":[]},{"name":"module71","label":"FiveRequest","kind":"ussd","steps":[]},{"name":"module72","label":"SixRequest","kind":"ussd","steps":[]},{"name":"module73","label":"SevenRequest","kind":"ussd","steps":[]},{"name":"module74","label":"HeightRequest","kind":"ussd","steps":[]},{"name":"module75","label":"NineRequest","kind":"ussd","steps":[]},{"name":"module76","label":"TenRequest","kind":"ussd","steps":[]},{"name":"module77","label":"AssignFirstRequest","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$RequestId","varName":"firstRequestId","varScope":"app"}},{"name":"A2","continueTo":{"target":"module144"}}],"kind":"control","name":"step201"}]},{"name":"module78","label":"AssignSecondRequest","kind":"ussd","steps":[]},{"name":"module79","label":"AssignThirdRequest","kind":"ussd","steps":[]},{"name":"module80","label":"InsureRequest","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/createReferralRequestForPlan","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"planId\": \"$planId\",\n  \"contactNumber\": \"$msisdn\",\n  \"contactNumberOfFriend\": \"$contactNumber\"\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"message","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".message","action":"propertyNamed","property":"message"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step118"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module81"}}],"conditionExpression":"C1","kind":"control","name":"step124"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"409","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module82"}}],"conditionExpression":"C1","kind":"control","name":"step127"}]},{"name":"module81","label":"InsureRequestConfirm","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module51"}]},"messages":[{"text":"Votre demande a bien ete prise en compte"},{"text":"1. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step125"}]},{"name":"module82","label":"InsureRequestFailed","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module51"}]},"messages":[{"text":"Ce numero n\u0027est pas enregistrer dans notre service"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step126"}]},{"name":"module83","label":"SixProducts","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getContractDetails","urlParams":[{"name":"userId","value":"$userId"},{"name":"currentStatus","value":"COMPLETED"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step129"},{"conditions":[],"actions":[{"name":"A1","continueTo":{"target":"module84"}}],"kind":"control","name":"step131"}]},{"name":"module84","label":"SixProductsPage1","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module86"},{"digits":"2","next":"module87"},{"digits":"3","next":"module88"},{"digits":"4","next":"module89"},{"digits":"5","next":"module90"},{"digits":"#","next":"module85"}]},"messages":[{"text":"1 $firstProductName"},{"text":"2 $secondProductName"},{"text":"3 $thirdProductName"},{"text":"4 $fourthProductName"},{"text":"5 $fifthProductName"},{"text":"# Next"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step132"}]},{"name":"module85","label":"SixProductsPage2","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module91"},{"digits":"0","next":"module84"}]},"messages":[{"text":"1. $sixthProductName"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step133"}]},{"name":"module86","label":"AssignFirstProduct","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$firstProductId","varName":"productId","varScope":"app"}},{"name":"A2","assign":{"expression":"$firstProductName","varName":"productName","varScope":"app"}},{"name":"A3","assign":{"expression":"$firstBookingCDT","varName":"bookingCDT","varScope":"app"}},{"name":"A5","assign":{"expression":"$firstbookingNO","varName":"bookingNo","varScope":"app"}},{"name":"A6","assign":{"expression":"$firstproductcategoryId","varName":"categoryId","varScope":"app"}},{"name":"A4","continueTo":{"target":"module92"}}],"kind":"control","name":"step134"}]},{"name":"module87","label":"AssignSecondProduct","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$secondProductId","varName":"productId","varScope":"app"}},{"name":"A2","assign":{"expression":"$secondProductName","varName":"productName","varScope":"app"}},{"name":"A3","assign":{"expression":"$secondBookingCDT","varName":"bookingCDT","varScope":"app"}},{"name":"A5","assign":{"expression":"$secondbookingNO","varName":"bookinNo","varScope":"app"}},{"name":"A6","assign":{"expression":"$secondproductcategoryId","varName":"categoryId","varScope":"app"}},{"name":"A4","continueTo":{"target":"module92"}}],"kind":"control","name":"step135"}]},{"name":"module88","label":"AssignThirdProduct","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$thirdProductId","varName":"productId","varScope":"app"}},{"name":"A2","assign":{"expression":"$thirdProductName","varName":"productName","varScope":"app"}},{"name":"A3","assign":{"expression":"$thirdBookingCDT","varName":"bookingCDT","varScope":"app"}},{"name":"A5","assign":{"expression":"$thirdbookingNO","varName":"bookingNo","varScope":"app"}},{"name":"A6","assign":{"expression":"$thirdproductcategoryId","varName":"categoryId","varScope":"app"}},{"name":"A4","continueTo":{"target":"module92"}}],"kind":"control","name":"step136"}]},{"name":"module89","label":"AssignFourthProduct","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$fourthProductId","varName":"productId","varScope":"app"}},{"name":"A2","assign":{"expression":"$fourthProductName","varName":"productName","varScope":"app"}},{"name":"A3","assign":{"expression":"$fourthBookingCDT","varName":"bookingCDT","varScope":"app"}},{"name":"A5","assign":{"expression":"$fourthbookingNO","varName":"bookingNo","varScope":"app"}},{"name":"A6","assign":{"expression":"$fourthproductcategoryId","varName":"categoryId","varScope":"app"}},{"name":"A4","continueTo":{"target":"module92"}}],"kind":"control","name":"step137"}]},{"name":"module90","label":"AssignFifthProduct","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$fifthProductId","varName":"productId","varScope":"app"}},{"name":"A2","assign":{"expression":"$fifthProductName","varName":"productName","varScope":"app"}},{"name":"A3","assign":{"expression":"$fifthBookingCDT","varName":"bookingCDT","varScope":"app"}},{"name":"A5","assign":{"expression":"$fifthbookingNO","varName":"bookingNo","varScope":"app"}},{"name":"A6","assign":{"expression":"$fifthproductcategoryId","varName":"categoryId","varScope":"app"}},{"name":"A4","continueTo":{"target":"module92"}}],"kind":"control","name":"step138"}]},{"name":"module91","label":"AssignSixthProduct","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"$sixthProductId","varName":"productId","varScope":"app"}},{"name":"A9","assign":{"expression":"$sixthProductName","varName":"productName","varScope":"app"}},{"name":"A8","continueTo":{"target":"module92"}}],"kind":"control","name":"step140"}]},{"name":"module92","label":"ProductEndTime","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getContractDetails","urlParams":[{"name":"bookingId","value":"$productId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"BookingCDT","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingCompletionDateTime","action":"propertyNamed","property":"bookingCompletionDateTime"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"productPrice","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".price","action":"propertyNamed","property":"price"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"bookingNO","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingNo","action":"propertyNamed","property":"bookingNo"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"categoryId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".categoryData","action":"propertyNamed","property":"categoryData"},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step209"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module93"},{"digits":"2","next":"module97"},{"digits":"3","next":"module107"},{"digits":"0","next":"module53"}]},"messages":[{"text":"Vous êtes couvert pour $productName jusqu\u0027au $BookingCDT pour $productPrice"},{"text":"1 Renouveler"},{"text":"2 Demander a un ami"},{"text":"3 Declaration"},{"text":"0 Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step141"}]},{"name":"module93","label":"RenewProduct","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/renewedBooking","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"contactNumber\": \"$msisdn\",\n  \"bookingId\": \"$productId\",\n  \"timezone\": 0,\n  \"operaterType\": 2\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"bookingID","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingData","action":"propertyNamed","property":"bookingData"},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"transactionID","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".transactionID","action":"propertyNamed","property":"transactionID"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step142"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module94"}}],"conditionExpression":"C1","kind":"control","name":"step143"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"409","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module95"}}],"conditionExpression":"C1","kind":"control","name":"step144"}]},{"name":"module94","label":"RenewComplete","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module53"}]},"messages":[{"text":"Opérations réussi veuillez valider le paiement."},{"text":"1.Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step145"}]},{"name":"module95","label":"RenewRefused","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module53"}]},"messages":[{"text":"Votre paiement précédent est en cours veuillez valider"},{"text":"1.Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step146"}]},{"name":"module96","label":"InsureRenewRequest","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/createReferralRequestForBookingRenewed","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-language","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"bookingId\": \"$productId\",\n  \"contactNumber\": \"$msisdn\",\n  \"contactNumberOfFriend\": \"$friendNumber\"\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"bookingID","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".bookingData","action":"propertyNamed","property":"bookingData"},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"transactionID","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".transactionID","action":"propertyNamed","property":"transactionID"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step147"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module94"}}],"conditionExpression":"C1","kind":"control","name":"step149"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"409","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module95"}}],"conditionExpression":"C1","kind":"control","name":"step150"}]},{"name":"module97","label":"SendRenewRequest","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module96","collectVariable":"friendNumber","scope":"application"},"messages":[{"text":"Veuillez entre le numéro de votre ami"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step148"}]},{"name":"module98","label":"ClaimStep1","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module99","collectVariable":"dateOfIncident","scope":"application"},"messages":[{"text":"Veuillez entrer la date de l\u0027incident Ex jj-dd-aaa"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step151"}]},{"name":"module99","label":"ClaimStep2","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module102"},{"digits":"2","next":"module103"}]},"messages":[{"text":"Les pompiers/policiers/gendarmes sont-ils intervenus?"},{"text":"1 oui"},{"text":"2 non"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step152"}]},{"name":"module102","label":"step2Value","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"true","varName":"isFirefightersIntervened","varScope":"app"}},{"name":"A2","continueTo":{"target":"module111"}}],"kind":"control","name":"step153"}]},{"name":"module103","label":"step2value2","kind":"ussd","steps":[{"conditions":[],"actions":[{"name":"A1","assign":{"expression":"false","varName":"isFirefightersIntervened","varScope":"app"}},{"name":"A2","continueTo":{"target":"module106"}}],"kind":"control","name":"step154"}]},{"name":"module104","label":"ClaimHome3","kind":"ussd","steps":[]},{"name":"module106","label":"FalseClaim","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"0","next":"module53"}]},"messages":[{"text":"Désolé Cher Client aucune procédure n\u0027est possible pour vous ,veuillez contacter le service client"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step155"}]},{"name":"module107","label":"AllowClaim","kind":"ussd","steps":[{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoryId","operand2":"5bec07e90b922714f1d08c82","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module98"}}],"conditionExpression":"C1","kind":"control","name":"step156"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoryId","operand2":"5bec07ad0b922714f1d08c81","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module98"}}],"conditionExpression":"C1","kind":"control","name":"step157"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoryId","operand2":"5bec097c0b922714f1d08c89","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module98"}}],"conditionExpression":"C1","kind":"control","name":"step160"},{"conditions":[{"name":"C1","operator":"notequal","comparison":{"operand1":"$categoryId","operand2":"5bec07e90b922714f1d08c82","type":"text"}},{"name":"C2","operator":"notequal","comparison":{"operand1":"$categoryId","operand2":"5bec07ad0b922714f1d08c81","type":"text"}},{"name":"C3","operator":"notequal","comparison":{"operand1":"$categoryId","operand2":"5bec097c0b922714f1d08c89","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module109"}}],"conditionExpression":"C1 AND C2 AND C3","kind":"control","name":"step158"}]},{"name":"module108","label":"ClaimTravel1","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module117"},{"digits":"2","next":"module118"}]},"messages":[{"text":"Avez-vous l\u0027immatriculaition du vehicule ?"},{"text":"1. Oui"},{"text":"2. Non"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step172"}]},{"name":"module109","label":"RejectClaim","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"0","next":"module53"}]},"messages":[{"text":"Vous ne pouvez pas Declarer de sinistre pour ce porduit"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step159"}]},{"name":"module110","label":"ClaimPack1","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module121"},{"digits":"2","next":"module123"}]},"messages":[{"text":"veuillez Selectionner le produit"},{"text":"1. Maison"},{"text":"2. Voyage"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step183"}]},{"name":"module111","label":"ClaimSwitch","kind":"ussd","steps":[{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoryId","operand2":"5bec07e90b922714f1d08c82","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module112"}}],"conditionExpression":"C1","kind":"control","name":"step161"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoryId","operand2":"5bec07ad0b922714f1d08c81","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module108"}}],"conditionExpression":"C1","kind":"control","name":"step162"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$categoryId","operand2":"5bec097c0b922714f1d08c89","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module110"}}],"conditionExpression":"C1","kind":"control","name":"step163"}]},{"name":"module112","label":"ClaimHome1","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module113","collectVariable":"answer","scope":"application"},"messages":[{"text":"Veuillez saisir votre identifiant  d\u0027abonnement CIE"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step164"}]},{"name":"module113","label":"ClaimHome2","kind":"ussd","steps":[{"url":"http://$ip:$port/claim/createRequestInsuranceClaim","method":"POST","urlParams":[],"contentType":"application/json","requestBody":"{\n  \"bookingNo\": $bookingNo,\n  \"categoryId\": \"$categoryId\",\n  \"dateOfIncident\": \"$dateOfIncident\",\n  \"timezone\": \"0\",\n  \"isFirefightersIntervened\": true,\n  \"templateKeys\": [\n    {\n      \"question\": \"le numero de facture CIE\",\n      \"answer\": \"$answer\"\n    }\n\n  ]\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step165"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module114"}}],"conditionExpression":"C1","kind":"control","name":"step166"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"404","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module115"}}],"conditionExpression":"C1","kind":"control","name":"step167"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"400","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module116"}}],"conditionExpression":"C1","kind":"control","name":"step168"}]},{"name":"module114","label":"ClaimConfirmed","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"0","next":"module53"}]},"messages":[{"text":"Votre déclaration a bien été enregistrée"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step169"}]},{"name":"module115","label":"ClaimFailed","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"0","next":"module115"}]},"messages":[{"text":"Désolé  Votre délais de carence n\u0027est pas encore atteint"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step170"}]},{"name":"module116","label":"ClaimWrong","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"0","next":"module53"}]},"messages":[{"text":"Une erreur est survenu lors des saisies veuillez recommencer"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step171"}]},{"name":"module117","label":"ClaimTravelvehicule","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module119","collectVariable":"answer","scope":"application"},"messages":[{"text":"Veuillez entrez l\u0027immatriculation du véhicule"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step173"}]},{"name":"module118","label":"ClaimTravelLocation","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module120","collectVariable":"answer","scope":"application"},"messages":[{"text":"Préciser le lieu de l\u0027incident"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step174"}]},{"name":"module119","label":"ClaimTravelvehicule2","kind":"ussd","steps":[{"url":"http://$ip:$port/claim/createRequestInsuranceClaim","method":"POST","urlParams":[],"contentType":"application/json","requestBody":"{\n  \"bookingNo\": $bookingNo,\n  \"categoryId\": \"$categoryId\",\n  \"dateOfIncident\": \"$dateOfIncident\",\n  \"timezone\": \"0\",\n  \"isFirefightersIntervened\": true,\n  \"templateKeys\": [\n    {\n      \"question\": \"le numero de la plaque d\u0027immatriculation\",\n      \"answer\": \"$answer\"\n    }\n\n  ]\n}","assignments":[{"destVariable":"starusCode","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step175"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"400","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module114"}}],"conditionExpression":"C1","kind":"control","name":"step176"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"404","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module115"}}],"conditionExpression":"C1","kind":"control","name":"step177"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"400","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module116"}}],"conditionExpression":"C1","kind":"control","name":"step178"}]},{"name":"module120","label":"ClaimTravelLocation2","kind":"ussd","steps":[{"url":"http://$ip:$port/claim/createRequestInsuranceClaim","method":"POST","urlParams":[],"contentType":"application/json","requestBody":"{\n  \"bookingNo\": $bookingNo,\n  \"categoryId\": \"$categoryId\",\n  \"dateOfIncident\": \"$dateOfIncident\",\n  \"timezone\": \"0\",\n  \"isFirefightersIntervened\": true,\n  \"templateKeys\": [\n    {\n      \"question\": \"le lieu de l\u0027incident.\",\n      \"answer\": \"$answer\"\n    }\n\n  ]\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step179"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module114"}}],"conditionExpression":"C1","kind":"control","name":"step180"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"404","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module115"}}],"conditionExpression":"C1","kind":"control","name":"step181"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"400","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module116"}}],"conditionExpression":"C1","kind":"control","name":"step182"}]},{"name":"module121","label":"ClaimPackHome","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module122","collectVariable":"answer2","scope":"application"},"messages":[{"text":"Veuillez saisir votre identifiant  d\u0027abonnement CIE"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step184"}]},{"name":"module122","label":"ClaimPackHome2","kind":"ussd","steps":[{"url":"http://$ip:$port/claim/createRequestInsuranceClaim","method":"POST","urlParams":[],"contentType":"application/json","requestBody":"{\n  \"bookingNo\": $bookingNo,\n  \"categoryId\": \"$categoryId\",\n  \"dateOfIncident\": \"$dateOfIncident\",\n  \"timezone\": \"0\",\n  \"isFirefightersIntervened\": true,\n  \"templateKeys\": [\n    {\n      \"question\": \"Quel est le produit?\",\n      \"answer\": \"Maison\"\n    },\n        {\n      \"question2\": \"le numero de facture CIE\",\n      \"answer2\": \"$answer2\"\n    }\n\n  ]\n}","assignments":[],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step185"}]},{"name":"module123","label":"ClaimPackTravel","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module124"},{"digits":"2","next":"module126"}]},"messages":[{"text":"Avez-vous l\u0027immatriculaition du vehicule ?"},{"text":"1.Oui"},{"text":"2. Non"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step186"}]},{"name":"module124","label":"ClaimPackTravelVehicule","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module125","collectVariable":"anwser2","scope":"application"},"messages":[{"text":"Veuillez entrez l\u0027immatriculation du véhicule"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step187"}]},{"name":"module125","label":"ClaimPackTravelVehicule2","kind":"ussd","steps":[{"url":"http://$ip:$port/claim/createRequestInsuranceClaim","method":"POST","urlParams":[],"contentType":"application/json","requestBody":"{\n  \"bookingNo\": $bookingNo,\n  \"categoryId\": \"$categoryId\",\n  \"dateOfIncident\": \"$dateOfIncident\",\n  \"timezone\": \"0\",\n  \"isFirefightersIntervened\": true,\n  \"templateKeys\": [\n    {\n      \"question\": \"Quel est le produit?\",\n      \"answer\": \"Voyage\"\n    },\n        {\n      \"question2\": \"Quelle est la plaque d\u0027immatriculation\",\n      \"answer2\": \"$answer2\"\n    }\n\n  ]\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step188"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module114"}}],"conditionExpression":"C1","kind":"control","name":"step191"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"404","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module115"}}],"conditionExpression":"C1","kind":"control","name":"step192"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"400","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module116"}}],"conditionExpression":"C1","kind":"control","name":"step193"}]},{"name":"module126","label":"ClaimPackTravelLoacation","kind":"ussd","steps":[{"gatherType":"collectdigits","text":"","collectdigits":{"next":"module127","collectVariable":"answer2","scope":"module"},"messages":[{"text":"Préciser le lieu de l\u0027incident"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step189"}]},{"name":"module127","label":"ClaimPacktravelLocation2","kind":"ussd","steps":[{"url":"http://$ip:$port/claim/createRequestInsuranceClaim","method":"POST","urlParams":[],"contentType":"application/json","requestBody":"{\n  \"bookingNo\": $bookingNo,\n  \"categoryId\": \"$categoryId\",\n  \"dateOfIncident\": \"$dateOfIncident\",\n  \"timezone\": \"0\",\n  \"isFirefightersIntervened\": true,\n  \"templateKeys\": [\n    {\n      \"question\": \"Quel est le produit?\",\n      \"answer\": \"Voyage\"\n    },\n    {\n      \"question\": \"Quel est le lieu de l\u0027incident\",\n      \"answer\": \"$answer2\"\n    }\n  ]\n}","assignments":[{"destVariable":"statusCode","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".statusCode","action":"propertyNamed","property":"statusCode"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step190"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"200","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module114"}}],"conditionExpression":"C1","kind":"control","name":"step196"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"404","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module115"}}],"conditionExpression":"C1","kind":"control","name":"step195"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$statusCode","operand2":"400","type":"numeric"}}],"actions":[{"name":"A1","continueTo":{"target":"module116"}}],"conditionExpression":"C1","kind":"control","name":"step194"}]},{"name":"module128","label":"AssignSeventhProduct","kind":"ussd","steps":[]},{"name":"module129","label":"AssignEightProduct","kind":"ussd","steps":[]},{"name":"module130","label":"AssignNinethProduct","kind":"ussd","steps":[]},{"name":"module131","label":"AssignTenthProduct","kind":"ussd","steps":[]},{"name":"module132","label":"OneProduct","kind":"ussd","steps":[]},{"name":"module133","label":"TwoProduct","kind":"ussd","steps":[]},{"name":"module134","label":"ThreeProduct","kind":"ussd","steps":[]},{"name":"module135","label":"FourProduct","kind":"ussd","steps":[]},{"name":"module136","label":"FiveProduct","kind":"ussd","steps":[]},{"name":"module137","label":"SevenProduct","kind":"ussd","steps":[]},{"name":"module138","label":"EightProduct","kind":"ussd","steps":[]},{"name":"module139","label":"NineProduct","kind":"ussd","steps":[]},{"name":"module140","label":"TenProduct","kind":"ussd","steps":[]},{"name":"module142","label":"SendPaiementNotif","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/sendInstantPaymentNotification","method":"POST","urlParams":[],"contentType":"application/json","requestBody":"{\n  \"Reference\": \"$reference\",\n  \"CompleteDateTime\": \"$createdAt\",\n  \"countryCode\": \"+225\",\n  \"Amount\": \"$amount\",\n  \"MSISDN\": \"$msisdn\",\n  \"BillMapTransactionId\": \"$billMapTransactionId\",\n  \"EWPTransactionId\": \"$ewpTransactionId\",\n  \"ResponseCode\": \"null\",\n  \"ResponseMessage\": \"null\",\n  \"MetaData\": \"null\"\n}","assignments":[{"destVariable":"message","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".message","action":"propertyNamed","property":"message"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step197"},{"conditions":[{"name":"C1","operator":"equals","comparison":{"operand1":"$message","operand2":"Success","type":"text"}}],"actions":[{"name":"A1","continueTo":{"target":"module24"}}],"conditionExpression":"C1","kind":"control","name":"step198"}]},{"name":"module143","label":"NoRequest","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"0","next":"module52"}]},"messages":[{"text":"Vous n\u0027avez pas de demande en attente"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step200"}]},{"name":"module144","label":"SingleRequest","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getReferralRequest","urlParams":[{"name":"contactNumber","value":"$msisdn"},{"name":"referralId","value":"$RequestId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"friendName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".referralData","action":"propertyNamed","property":"referralData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".userData","action":"propertyNamed","property":"userData"},{"kind":"object","fixed":true,"terminal":false,"expression":".name","action":"propertyNamed","property":"name"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"productName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".referralData","action":"propertyNamed","property":"referralData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"productPrice","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".referralData","action":"propertyNamed","property":"referralData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".serviceData","action":"propertyNamed","property":"serviceData"},{"kind":"object","fixed":true,"terminal":false,"expression":".amountInvested","action":"propertyNamed","property":"amountInvested"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step203"},{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module146"}]},"messages":[{"text":"Votre ami $productName vous demande de payer son produit de $productName. Prix:  $productPrice / mois. Appuyez sur 1 pour continuer"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step210"}]},{"name":"module145","label":"NoProduct","kind":"ussd","steps":[{"gatherType":"menu","text":"","menu":{"mappings":[{"digits":"1","next":"module60"},{"digits":"0","next":"module51"}]},"messages":[{"text":"Vous n\u0027avez pas encore achetez de produit"},{"text":"1. Acheter un produit"},{"text":"0. Retour"}],"kind":"ussdCollect","label":"USSD Collect","title":"USSD Collect","name":"step207"}]},{"name":"module146","label":"CreateReferalContract","kind":"ussd","steps":[{"url":"http://$ip:$port/createContractUsingReferralCode","method":"POST","urlParams":[],"httpHeaders":[{"name":"content-languages","value":"fr"}],"contentType":"application/json","requestBody":"{\n  \"referralId\": \"$RequestId\",\n  \"contact\": \"$msisdn\",\n  \"timezone\": 0,\n  \"operaterType\": 2\n}","assignments":[],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step211"}]},{"name":"module147","label":"20product","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getContractDetails","urlParams":[{"name":"userId","value":"$userId"},{"name":"currentStatus","value":"COMPLETED"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstProductId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eightProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eightProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"11ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[10]","action":"itemAtPosition","position":10},{"kind":"object","fixed":true,"terminal":false,"expression":".id","action":"propertyNamed","property":"id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"11ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[10]","action":"itemAtPosition","position":10},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"12ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[11]","action":"itemAtPosition","position":11},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"12ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[11]","action":"itemAtPosition","position":11},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"13ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[12]","action":"itemAtPosition","position":12},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"13ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[12]","action":"itemAtPosition","position":12},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"14ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[13]","action":"itemAtPosition","position":13},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"14ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[13]","action":"itemAtPosition","position":13},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"15ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[14]","action":"itemAtPosition","position":14},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"15ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[14]","action":"itemAtPosition","position":14},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"16ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[15]","action":"itemAtPosition","position":15},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"16ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[15]","action":"itemAtPosition","position":15},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"17ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[16]","action":"itemAtPosition","position":16},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"17ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[16]","action":"itemAtPosition","position":16},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"18ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[17]","action":"itemAtPosition","position":17},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"18ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[17]","action":"itemAtPosition","position":17},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"19ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[18]","action":"itemAtPosition","position":18},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"19ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[18]","action":"itemAtPosition","position":18},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"20ProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[19]","action":"itemAtPosition","position":19},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"20ProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[19]","action":"itemAtPosition","position":19},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthProductId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[9]","action":"itemAtPosition","position":9},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthProductName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".contractData","action":"propertyNamed","property":"contractData"},{"kind":"object","fixed":true,"terminal":false,"expression":".9","action":"propertyNamed","property":"9"},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step212"}]},{"name":"module148","label":"Tenplan","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"contact","value":"$msisdn"},{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthPlanId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eigthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eigthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[9]","action":"itemAtPosition","position":9},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[9]","action":"itemAtPosition","position":9},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step213"}]},{"name":"module149","label":"Tenplan1","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"contact","value":"$msisdn"},{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthPlanId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eigthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eigthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[9]","action":"itemAtPosition","position":9},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[9]","action":"itemAtPosition","position":9},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step214"}]},{"name":"module152","label":"Tenplan2","kind":"ussd","steps":[{"url":"http://$ip:$port/ussd/getServicesPerPlan","urlParams":[{"name":"contact","value":"$msisdn"},{"name":"serviceProviderId","value":"$company"},{"name":"categoryId","value":"$categoryId"}],"httpHeaders":[{"name":"content-language","value":"fr"}],"assignments":[{"destVariable":"firstPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"firstPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[0]","action":"itemAtPosition","position":0},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"secondPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[1]","action":"itemAtPosition","position":1},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"thirdPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[2]","action":"itemAtPosition","position":2},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fourthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[3]","action":"itemAtPosition","position":3},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthPlanId","scope":"module","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"fifthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[4]","action":"itemAtPosition","position":4},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"sixthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[5]","action":"itemAtPosition","position":5},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"seventhPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[6]","action":"itemAtPosition","position":6},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eigthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"eigthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[7]","action":"itemAtPosition","position":7},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"ninethPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[8]","action":"itemAtPosition","position":8},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthPlanId","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[9]","action":"itemAtPosition","position":9},{"kind":"object","fixed":true,"terminal":false,"expression":"._id","action":"propertyNamed","property":"_id"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}},{"destVariable":"tenthPlanName","scope":"application","valueExtractor":{"accessOperations":[{"kind":"object","fixed":true,"terminal":false,"expression":".data","action":"propertyNamed","property":"data"},{"kind":"object","fixed":true,"terminal":false,"expression":".planData","action":"propertyNamed","property":"planData"},{"kind":"array","fixed":true,"terminal":false,"expression":"[9]","action":"itemAtPosition","position":9},{"kind":"object","fixed":true,"terminal":false,"expression":".planName","action":"propertyNamed","property":"planName"},{"kind":"value","fixed":true,"terminal":true,"expression":" value"}]}}],"next":"","doRouting":false,"nextType":"fixed","nextValueExtractor":{"accessOperations":[],"lastOperation":{"kind":"object","fixed":false,"terminal":false}},"kind":"externalService","label":"externalService","title":"external service","name":"step220"}]},{"name":"module155","label":"product2","kind":"ussd","steps":[]}],"lastNodeId":155,"header":{"projectKind":"ussd","startNodeName":"start","version":"1.15","owner":"administrator@company.com"}}