(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{324:function(e,t,a){e.exports=a(676)},329:function(e,t,a){},331:function(e,t,a){},676:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),o=a.n(l),c=(a(329),a(18)),i=a(19),s=a(21),u=a(20),m=a(22),d=a(681),p=a(684),h=a(680),g=a(34),f=(a(331),a(45)),E=a(92),v=a(5),b=a.n(v),w=a(23),y=a(197),C=a.n(y),j=a(317),O=a.n(j),P=a(314),S=a.n(P),D=a(127),N=a.n(D),k=a(25),x=a.n(k),B=a(319),M=a.n(B),I=a(41),A=a.n(I),R=a(315),$=a.n(R),q=a(318),L=a.n(q),T=a(316),Y=a.n(T),K=a(64),W=a.n(K),z=a(69),F=a.n(z),H=a(70),Q=a.n(H),J=(a(289),a(285)),U=a.n(J),G=a(286),V=a.n(G),X=a(287),Z=a.n(X),_=a(288),ee=a.n(_),te=(a(137),a(149)),ae=a.n(te),ne=function(e){var t=e.onNavigate;return r.a.createElement(ae.a,null,r.a.createElement(W.a,{button:!0,onClick:function(){return t("/dashboard")}},r.a.createElement(F.a,null,r.a.createElement(U.a,null)),r.a.createElement(Q.a,{primary:"Dashboard"})),r.a.createElement(W.a,{button:!0,onClick:function(){return t("/rvddesigner")}},r.a.createElement(F.a,null,r.a.createElement(V.a,null)),r.a.createElement(Q.a,{primary:"Simulator"})),r.a.createElement(W.a,{button:!0,onClick:function(){return t("/report")}},r.a.createElement(F.a,null,r.a.createElement(Z.a,null)),r.a.createElement(Q.a,{primary:"Reports"})),r.a.createElement(W.a,{button:!0,onClick:function(){return t("/applications")}},r.a.createElement(F.a,null,r.a.createElement(ee.a,null)),r.a.createElement(Q.a,{primary:"Applications"})))},re=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ne,{onNavigate:this.props.onNavigate}))}}]),t}(r.a.Component);function le(){return r.a.createElement("div",null,"Use the RVD Designer from TeleStax")}var oe=a(192),ce=a.n(oe),ie=a(28),se=a(44);function ue(){var e=Object(ie.a)(["\n  query {\n    toptrans {\n      id\n      msisdn\n      cellid\n      shortcode\n      sessionid\n      moduleName\n      moduleLabel\n      stepName\n      stepKind\n      flowend\n      replyMessage\n      createdAt\n    }\n  }\n"]);return ue=function(){return e},e}function me(){var e=Object(ie.a)(["\n  query queryMsisdnCount($startDate: DATE, $endDate: DATE) {\n    queryMsisdnCount(startDate: $startDate, endDate: $endDate) {\n      msisdn\n      count\n      Date\n    }\n  }\n"]);return me=function(){return e},e}function de(){var e=Object(ie.a)(["\n  query queryHitzByDay($flowend: Boolean, $startDate: DATE, $endDate: DATE) {\n    queryHitzByDay(\n      flowend: $flowend\n      startDate: $startDate\n      endDate: $endDate\n    ) {\n      count\n      Date\n      moduleName\n      moduleLabel\n    }\n  }\n"]);return de=function(){return e},e}function pe(){var e=Object(ie.a)(["\n  {\n    daystransaction {\n      id\n      cellid\n      imsi\n      shortcode\n      moduleName\n      moduleLabel\n      stepName\n      stepKind\n      flowend\n      replyMessage\n      msisdn\n      sessionid\n      createdAt\n    }\n  }\n"]);return pe=function(){return e},e}function he(){var e=Object(ie.a)(["\n  query transactions($msisdn: String!, $feedcount: Int) {\n    transactions(msisdn: $msisdn, feedcount: $feedcount) {\n      id\n      cellid\n      imsi\n      shortcode\n      moduleName\n      moduleLabel\n      stepName\n      stepKind\n      flowend\n      replyMessage\n      msisdn\n      sessionid\n      createdAt\n    }\n  }\n"]);return he=function(){return e},e}function ge(){var e=Object(ie.a)(["\n  {\n    weeklysummary {\n      DayName\n      Count\n    }\n  }\n"]);return ge=function(){return e},e}var fe=Object(se.a)(ge()),Ee=Object(se.a)(he()),ve=(Object(se.a)(pe()),Object(se.a)(de())),be=Object(se.a)(me()),we=Object(se.a)(ue()),ye=a(294),Ce=a.n(ye),je=a(295),Oe=a.n(je),Pe=a(214),Se=a.n(Pe),De=a(215),Ne=a.n(De),ke=a(216),xe=a.n(ke),Be=a(298),Me=a.n(Be),Ie=a(213),Ae=a.n(Ie),Re=a(135),$e=a.n(Re);var qe=function(){return r.a.createElement(g.Query,{query:fe},function(e){var t=e.data,a=e.loading,n=e.error;if(a)return r.a.createElement("div",null,"Loading....");if(n)return r.a.createElement("div",null,"Error: Unable to load data.",JSON.stringify(n));var l=t.weeklysummary;return r.a.createElement(Ce.a,{width:"99%",height:320},r.a.createElement(Oe.a,{data:l},r.a.createElement(Ne.a,{dataKey:"DayName"}),r.a.createElement(xe.a,null),r.a.createElement(Me.a,{vertical:!1,strokeDasharray:"3 3"}),r.a.createElement(Ae.a,null),r.a.createElement($e.a,null),r.a.createElement(Se.a,{type:"monotone",dataKey:"Count",stroke:"#82ca9d"})))})},Le=a(63),Te=a.n(Le),Ye=a(93);function Ke(){var e=Object(ie.a)(["\n  mutation refreshProject($sid: String!, $shortcode: String!) {\n    refreshProject(sid: $sid, shortcode: $shortcode) {\n      result\n      message\n    }\n  }\n"]);return Ke=function(){return e},e}function We(){var e=Object(ie.a)(["\n  mutation activateProject(\n    $sid: String!\n    $shortcode: String!\n    $friendlyName: String!\n  ) {\n    activateProject(\n      sid: $sid\n      shortcode: $shortcode\n      friendlyName: $friendlyName\n    ) {\n      result\n      message\n    }\n  }\n"]);return We=function(){return e},e}function ze(){var e=Object(ie.a)(["\n  query allprojects {\n    getprojects {\n      sid\n      accountSid\n      dateCreated\n      dateUpdated\n      shortcode\n      friendlyName\n    }\n  }\n"]);return ze=function(){return e},e}var Fe=Object(se.a)(ze()),He=Object(se.a)(We()),Qe=Object(se.a)(Ke()),Je=a(54),Ue=a.n(Je),Ge=a(56),Ve=a.n(Ge),Xe=a(8),Ze=a.n(Xe),_e=a(55),et=a.n(_e),tt=a(40),at=a.n(tt),nt=a(27),rt=a.n(nt),lt=a(303),ot=a.n(lt),ct=a(95),it=a.n(ct),st=a(96),ut=a.n(st),mt=a(48),dt=a.n(mt),pt=a(299),ht=a.n(pt),gt=a(37),ft=a.n(gt),Et=a(94),vt=a.n(Et),bt=a(49),wt=a(302),yt=a.n(wt);function Ct(){var e=Object(ie.a)(["\n  font-style: italic;\n"]);return Ct=function(){return e},e}function jt(){var e=Object(ie.a)(["\n  width: 120px;\n  text-align: right;\n  padding-right: 10px;\n"]);return jt=function(){return e},e}function Ot(){var e=Object(ie.a)(["\n  display: flex;\n  margin: 5px 0px;\n"]);return Ot=function(){return e},e}function Pt(){var e=Object(ie.a)(["\n  margin: 20px 0px 30px;\n"]);return Pt=function(){return e},e}function St(){var e=Object(ie.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex: 0 0 auto;\n  margin: 8px 4px;\n"]);return St=function(){return e},e}var Dt=bt.a.div(St()),Nt=bt.a.div(Pt()),kt=bt.a.div(Ot()),xt=bt.a.div(jt()),Bt=bt.a.div(Ct()),Mt=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(){return function(){a.setState({open:!0})}},a.handleClose=function(){a.setState({open:!1})},a.handleSaveChanges=function(){var e=Object(Ye.a)(Te.a.mark(function e(t){var n,r,l,o;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.state.shortcode){e.next=4;break}return a.setState({message:"The shortcode cannot be empty"}),e.abrupt("return");case 4:return n=a.props.project,e.next=7,t({variables:{sid:n.sid,friendlyName:n.friendlyName,shortcode:a.state.shortcode}});case 7:r=e.sent,l=r.data,o=l.activateProject,a.setState({message:o.message}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a.setState({message:"Error occurred. Try again!!"});case 16:a.props.onClose();case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();var n=e.project,r=void 0===n?{}:n;return a.state={shortcode:r.shortcode||"",open:!1,vertical:"bottom",horizontal:"center",message:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.onClose,l=t.project,o=this.state,c=o.vertical,i=o.horizontal,s=o.open;return r.a.createElement("div",null,r.a.createElement(x.a,{variant:"h4",gutterBottom:!0,component:"h2"},l.friendlyName),r.a.createElement(Nt,null,r.a.createElement(kt,null,r.a.createElement(xt,null,"Application Id"),r.a.createElement(Bt,null,l.sid)),r.a.createElement(kt,null,r.a.createElement(xt,null,"Account ID"),r.a.createElement(Bt,null,l.accountSid)),r.a.createElement(kt,null,r.a.createElement(xt,null,"Created Date"),r.a.createElement(Bt,null,l.dateCreated))),r.a.createElement("div",null,"Enter the Short code for this project...."),r.a.createElement("form",{className:a.container,noValidate:!0,autoComplete:"off"},r.a.createElement(vt.a,{required:!0,id:"shortcode",name:"shortcode",label:"Short Code",className:a.textField,autoFocus:!0,margin:"dense",value:this.state.shortcode,onChange:function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},fullWidth:!0}),r.a.createElement(Dt,null,r.a.createElement(ft.a,{onClick:n,color:"primary"},"Close"),r.a.createElement(g.Mutation,{mutation:He,update:function(t){var a=t.readQuery({query:Fe}).getprojects.map(function(t){return t.sid===l.sid?Object.assign({},Object(E.a)({},t),{shortcode:e.state.shortcode}):t});t.writeQuery({query:Fe,data:{getprojects:a}})}},function(t){return r.a.createElement(ft.a,{onClick:function(){return e.handleSaveChanges(t)},color:"primary"},"Save Changes")}))),r.a.createElement(yt.a,{anchorOrigin:{vertical:c,horizontal:i},open:s,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.message)}))}}]),t}(n.Component),It=Object(w.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(Mt),At=r.a.createContext({}),Rt=At.Provider,$t=At.Consumer,qt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onloginChange=function(e){if(e){var t=e.token,n=e.id;a.setState({token:t,userid:n,login:!0})}else a.setState({token:void 0,userid:void 0,login:!1})},a.state={token:"",userid:"",login:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={onloginChange:this.onloginChange};return r.a.createElement(Rt,{value:Object(E.a)({},this.state,e)},this.props.children)}}]),t}(r.a.Component),Lt=$t;dt.a.extend(ht.a);var Tt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,selectedProject:{}},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.formatDate=function(e){return dt()(e).fromNow()},a.handleRefresh=function(){var e=Object(Ye.a)(Te.a.mark(function e(t,a,n){var r,l,o,c,i;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.sid,l=a.shortcode){e.next=5;break}return alert("Cannot refresh. Try again"),e.abrupt("return");case 5:return e.prev=5,e.next=8,n({variables:{sid:r,shortcode:l}});case 8:o=e.sent,c=o.data,i=c.refreshProject.message,alert(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),alert("ERROR!!"+e.t0.message);case 17:case"end":return e.stop()}},e,this,[[5,14]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(g.Query,{query:Fe},function(a){var n=a.data,l=a.loading,o=a.error;if(l)return r.a.createElement("div",null,"Loading");if(o)return r.a.createElement("div",null,"Error!! Unable to query the project list");var c=n.getprojects;return r.a.createElement(Lt,null,function(a){var n=a.login;return r.a.createElement(g.Mutation,{mutation:Qe},function(a){return r.a.createElement(rt.a,{className:t.root},r.a.createElement(Ue.a,{className:t.table},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"Application Id"),r.a.createElement(Ze.a,null,"Name"),r.a.createElement(Ze.a,null,"Short Code"),r.a.createElement(Ze.a,{align:"right"},"Date Created"),r.a.createElement(Ze.a,{align:"right"},"Date Updated"),r.a.createElement(Ze.a,{align:"right"}))),r.a.createElement(Ve.a,null,c.map(function(l){return r.a.createElement(at.a,{key:l.sid},r.a.createElement(Ze.a,{component:"th",scope:"row"},l.sid),r.a.createElement(Ze.a,null,l.friendlyName),r.a.createElement(Ze.a,null,l.shortcode),r.a.createElement(Ze.a,{align:"right"},e.formatDate(l.dateCreated)),r.a.createElement(Ze.a,{align:"right"},e.formatDate(l.dateUpdated)),r.a.createElement(Ze.a,{align:"right"},r.a.createElement("div",null,r.a.createElement(A.a,{className:t.button,"aria-label":"Delete",onClick:function(t){return e.handleRefresh(t,l,a)}},r.a.createElement(ce.a,null)),n?r.a.createElement(A.a,{className:t.button,"aria-label":"Delete",onClick:function(t){e.setState({selectedProject:l}),e.handleClickOpen()}},r.a.createElement(ot.a,null)):null)))}))),r.a.createElement(it.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:e.state.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ut.a,null,r.a.createElement(It,{project:e.state.selectedProject,onClose:e.handleClose}))))})})})}}]),t}(r.a.Component),Yt=Object(w.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto"},table:{minWidth:700},button:{margin:e.spacing.unit}}})(Tt),Kt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0,refresh:!0},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleRefresh=function(){a.setState({refresh:!a.state.refresh})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left"}},r.a.createElement(x.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Past 7 days"," ")),r.a.createElement("div",{style:{float:"right",marginRight:"20px"}},r.a.createElement(A.a,{className:t.button,"aria-label":"Delete",onClick:function(t){return e.handleRefresh()}},r.a.createElement(ce.a,null)))),r.a.createElement("div",{style:{clear:"both"}},r.a.createElement(x.a,{component:"div",className:t.chartContainer},r.a.createElement(qe,{refresh:this.state.refresh})),r.a.createElement(x.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Project List"),r.a.createElement("div",{className:t.tableContainer},r.a.createElement(Yt,null))))}}]),t}(r.a.Component),Wt=Object(w.withStyles)(function(e){return{appBarSpacer:e.mixins.toolbar,chartContainer:{marginLeft:-22},tableContainer:{height:320}}})(Kt),zt=a(193),Ft=a.n(zt),Ht=a(305),Qt=a.n(Ht),Jt=a(304),Ut=a.n(Jt),Gt=a(67),Vt=a.n(Gt),Xt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,rowsPerPage:10},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.msisdn,n=t.feedcount,l=t.classes,o=this.state,c=o.rowsPerPage,i=o.page;return r.a.createElement(g.Query,{query:Ee,variables:{msisdn:a,feedcount:n}},function(t){var a=t.data,n=t.loading,o=t.error;if(n)return r.a.createElement("div",null,"Loading.....");if(o)return r.a.createElement("div",null,"Error occured. Try again");var s=a.transactions,u=s.length;return r.a.createElement(rt.a,null,r.a.createElement(Ue.a,{padding:"dense"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"Session #"),r.a.createElement(Ze.a,{className:l.narrowCell},"Cell ID"),r.a.createElement(Ze.a,{className:l.narrowCell},"Short Code"),r.a.createElement(Ze.a,null,"Module"),r.a.createElement(Ze.a,null,"Label"),r.a.createElement(Ze.a,null,"Step Name"),r.a.createElement(Ze.a,null,"Step Kind"),r.a.createElement(Ze.a,{className:l.miniCell},"Flow End"),r.a.createElement(Ze.a,null,"Date"))),r.a.createElement(Ve.a,null,s.slice(i*c,i*c+c).map(function(e){return r.a.createElement(at.a,{key:"".concat(e.id,"-").concat(e.sessionid)},r.a.createElement(Ze.a,null,e.sessionid),r.a.createElement(Ze.a,{className:l.narrowCell},e.cellid),r.a.createElement(Ze.a,{className:l.narrowCell},e.shortcode),r.a.createElement(Ze.a,null,e.moduleName),r.a.createElement(Ze.a,null,e.moduleLabel),r.a.createElement(Ze.a,null,e.stepName),r.a.createElement(Ze.a,null,e.stepKind),r.a.createElement(Ze.a,{className:l.miniCell},e.flowend?"Cont.":"End"),r.a.createElement(Ze.a,null,dt()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")))}))),r.a.createElement(Vt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:u,rowsPerPage:c,page:i,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:e.handleChangePage,onChangeRowsPerPage:e.handleChangeRowsPerPage}))})}}]),t}(n.Component),Zt=Object(w.withStyles)({narrowCell:{width:"100px"},miniCell:{width:"65px"}})(Xt);function _t(){var e=Object(ie.a)(["\n  clear: both;\n"]);return _t=function(){return e},e}function ea(){var e=Object(ie.a)(["\n  clear: both;\n"]);return ea=function(){return e},e}function ta(){var e=Object(ie.a)(["\n  float: right;\n"]);return ta=function(){return e},e}function aa(){var e=Object(ie.a)(["\n  float: left;\n"]);return aa=function(){return e},e}var na=bt.a.div(aa()),ra=bt.a.div(ta()),la=bt.a.div(ea()),oa=bt.a.div(_t()),ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={msisdn:"",feedcount:0,open:!1,beforesearch:""},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.pagetitle=function(){return a.state.msisdn?r.a.createElement(x.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Result for ",a.state.msisdn):r.a.createElement(x.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Search By MSISDN")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(la,null,r.a.createElement(na,null,this.pagetitle()),r.a.createElement(ra,null,r.a.createElement(ft.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen},"Search MSISDN"))),r.a.createElement(oa,null,this.state.msisdn?r.a.createElement(Zt,{msisdn:this.state.msisdn,feedcount:this.state.feedcount}):null),r.a.createElement(it.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ut.a,{id:"form-dialog-title"},"Search MSISDN Transactions"),r.a.createElement(ut.a,null,r.a.createElement(Qt.a,null,"Seach for all transaction for a particular MSISDN. This result will return only the top 100 response."),r.a.createElement(vt.a,{autoFocus:!0,margin:"dense",id:"beforesearch",label:"Search By MSISDN",type:"text",name:"beforesearch",value:this.state.beforesearch,onChange:function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},fullWidth:!0})),r.a.createElement(Ft.a,null,r.a.createElement(ft.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(ft.a,{onClick:function(){e.setState({msisdn:e.state.beforesearch}),e.handleClose()},color:"primary"},"Search"))))}}]),t}(n.Component),ia=a(194),sa=a.n(ia),ua=a(77),ma=a.n(ua),da=a(683),pa=a(97),ha=a.n(pa),ga=a(306),fa=a(199),Ea=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).startDateChange=function(e){a.setState({startDate:e,parsestartDate:new Date(e).toJSON()})},a.endDateChange=function(e){a.setState({endDate:e,parseendDate:new Date(e).toJSON()})},a.onNavigate=function(e){return a.props.history.push(e)};var n=new Date;return n.setDate(n.getDate()-10),a.state={startDate:n,endDate:new Date,parsestartDate:n.toJSON(),parseendDate:(new Date).toJSON()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.startDate,l=a.endDate;return r.a.createElement("div",null,r.a.createElement(fa.b,{utils:ga.a},r.a.createElement(ha.a,{container:!0,className:t.grid,justify:"space-around"},r.a.createElement(fa.a,{margin:"normal",label:"Start Date",value:n,format:"DD-MMM-YYYY",name:"startDate",onChange:this.startDateChange}),r.a.createElement(fa.a,{margin:"normal",label:"End Date",name:"endDate",format:"DD-MMM-YYYY",value:l,onChange:this.endDateChange}),r.a.createElement(ft.a,{onClick:function(){return e.onNavigate("/glreport?from=".concat(e.state.parsestartDate,"&to=").concat(e.state.parseendDate))},color:"primary"},"Search"))))}}]),t}(n.Component),va=Object(da.a)(Ea),ba=Object(w.withStyles)({grid:{width:"60%"}})(va);function wa(e){return r.a.createElement(x.a,{component:"div",style:{padding:24}},e.children)}var ya=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t}),2===t&&a.props.history.push("/audreport")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return r.a.createElement("div",{className:e.root},r.a.createElement(rt.a,{square:!0},r.a.createElement(sa.a,{value:t,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(ma.a,{label:"Global List"}),r.a.createElement(ma.a,{label:"MSISDN Transaction"}),r.a.createElement(ma.a,{label:"Subscriber Audit"}))),0===t&&r.a.createElement(wa,null,r.a.createElement(ba,null)),1===t&&r.a.createElement(wa,null,r.a.createElement(ca,null)),2===t&&r.a.createElement(wa,null,r.a.createElement("div",null,"Subscriber Audit report")))}}]),t}(r.a.Component),Ca=Object(w.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})(ya);function ja(){return r.a.createElement("div",null,r.a.createElement(Yt,null))}var Oa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,rowsPerPage:10},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.flowend,n=t.startDate,l=t.endDate,o=this.state,c=o.rowsPerPage,i=o.page;return r.a.createElement(g.Query,{query:ve,variables:{flowend:a,startDate:n,endDate:l}},function(t){var a=t.data,n=t.loading,l=t.error;if(n)return r.a.createElement("div",null,"Loading.....");if(l)return r.a.createElement("div",null,"Error occured. Try again");var o=a.queryHitzByDay,s=o.length;return r.a.createElement(rt.a,null,r.a.createElement(Ue.a,{padding:"dense"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"Module Name"),r.a.createElement(Ze.a,null,"Module Label"),r.a.createElement(Ze.a,null,"Date"),r.a.createElement(Ze.a,null,"Count"))),r.a.createElement(Ve.a,null,o.slice(i*c,i*c+c).map(function(e,t){return r.a.createElement(at.a,{key:"".concat(e.moduleName,"-").concat(t)},r.a.createElement(Ze.a,null,e.moduleName),r.a.createElement(Ze.a,null,e.moduleLabel),r.a.createElement(Ze.a,null,e.Date),r.a.createElement(Ze.a,null,e.count))}))),r.a.createElement(Vt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:s,rowsPerPage:c,page:i,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:e.handleChangePage,onChangeRowsPerPage:e.handleChangeRowsPerPage}))})}}]),t}(n.Component),Pa=Object(w.withStyles)({narrowCell:{width:"100px"},miniCell:{width:"65px"}})(Oa),Sa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,rowsPerPage:10},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.startDate,n=t.endDate,l=this.state,o=l.rowsPerPage,c=l.page;return r.a.createElement(g.Query,{query:be,variables:{startDate:a,endDate:n}},function(t){var a=t.data,n=t.loading,l=t.error;if(n)return r.a.createElement("div",null,"Loading.....");if(l)return r.a.createElement("div",null,"Error occured. Try again");var i=a.queryMsisdnCount,s=i.length;return r.a.createElement(rt.a,null,r.a.createElement(Ue.a,{padding:"dense"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"MSISDN"),r.a.createElement(Ze.a,null,"Date"),r.a.createElement(Ze.a,null,"Count"))),r.a.createElement(Ve.a,null,i.slice(c*o,c*o+o).map(function(e,t){return r.a.createElement(at.a,{key:"".concat(e.msisdn,"-").concat(t)},r.a.createElement(Ze.a,null,e.msisdn),r.a.createElement(Ze.a,null,e.Date),r.a.createElement(Ze.a,null,e.count))}))),r.a.createElement(Vt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:s,rowsPerPage:o,page:c,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:e.handleChangePage,onChangeRowsPerPage:e.handleChangeRowsPerPage}))})}}]),t}(n.Component),Da=Object(w.withStyles)({narrowCell:{width:"100px"},miniCell:{width:"65px"}})(Sa),Na=a(313),ka=a.n(Na);var xa=Object(w.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary}}})(function(e){var t=e.classes,a=ka.a.parse(window.location.search);return console.log(a),r.a.createElement("div",{className:t.root},r.a.createElement(ha.a,{container:!0,spacing:24},r.a.createElement(ha.a,{item:!0,xs:6},r.a.createElement(rt.a,{className:t.paper},r.a.createElement(Pa,{flowend:!0,startDate:a.from,endDate:a.to}))),r.a.createElement(ha.a,{item:!0,xs:6},r.a.createElement(rt.a,{className:t.paper},r.a.createElement(Da,{flowend:!0,startDate:a.from,endDate:a.to})))))}),Ba=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,rowsPerPage:25},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,l=this.props.classes;return r.a.createElement(g.Query,{query:we},function(t){var o=t.data,c=t.loading,i=t.error;if(c)return r.a.createElement("div",null,"Loading.....");if(i)return r.a.createElement("div",null,"Error occured. Try again");var s=o.toptrans,u=s.length;return r.a.createElement(rt.a,null,r.a.createElement(Ue.a,{padding:"dense"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,{className:l.narrowCell},"MSISDN"),r.a.createElement(Ze.a,null,"Session #"),r.a.createElement(Ze.a,{className:l.narrowCell},"Cell ID"),r.a.createElement(Ze.a,null,"Module"),r.a.createElement(Ze.a,null,"Label"),r.a.createElement(Ze.a,null,"Step Name"),r.a.createElement(Ze.a,null,"Step Kind"),r.a.createElement(Ze.a,{className:l.miniCell},"Flow End"),r.a.createElement(Ze.a,null,"Date"))),r.a.createElement(Ve.a,null,s.slice(n*a,n*a+a).map(function(e){return r.a.createElement(at.a,{key:"".concat(e.id,"-").concat(e.sessionid)},r.a.createElement(Ze.a,{className:l.narrowCell},e.msisdn),r.a.createElement(Ze.a,null,e.sessionid),r.a.createElement(Ze.a,{className:l.narrowCell},e.cellid),r.a.createElement(Ze.a,null,e.moduleName),r.a.createElement(Ze.a,null,e.moduleLabel),r.a.createElement(Ze.a,null,e.stepName),r.a.createElement(Ze.a,null,e.stepKind),r.a.createElement(Ze.a,{className:l.miniCell},e.flowend?"Cont.":"End"),r.a.createElement(Ze.a,null,dt()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")))}))),r.a.createElement(Vt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:u,rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:e.handleChangePage,onChangeRowsPerPage:e.handleChangeRowsPerPage}))})}}]),t}(n.Component),Ma=Object(w.withStyles)({narrowCell:{width:"100px"},miniCell:{width:"65px"}})(Ba),Ia=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.onNavigate=function(e){return a.props.history.push(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(C.a,null),r.a.createElement(S.a,{position:"absolute",className:b()(t.appBar,this.state.open&&t.appBarShift)},r.a.createElement(N.a,{disableGutters:!this.state.open,className:t.toolbar},r.a.createElement(A.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:b()(t.menuButton,this.state.open&&t.menuButtonHidden)},r.a.createElement($.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"RVD Node"),r.a.createElement(A.a,{color:"inherit",onClick:function(){return e.props.history.push("/login")}},r.a.createElement(Y.a,null)))),r.a.createElement(O.a,{variant:"permanent",classes:{paper:b()(t.drawerPaper,!this.state.open&&t.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(A.a,{onClick:this.handleDrawerClose},r.a.createElement(L.a,null))),r.a.createElement(M.a,null),r.a.createElement(re,{onNavigate:this.onNavigate})),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(p.a,null,r.a.createElement(h.a,{path:"/data",component:Wt}),r.a.createElement(h.a,{path:"/msisdn",component:ca}),r.a.createElement(h.a,{path:"/applications",component:ja}),r.a.createElement(h.a,{path:"/report",component:Ca}),r.a.createElement(h.a,{path:"/rvddesigner",component:le}),r.a.createElement(h.a,{path:"/glreport",component:xa}),r.a.createElement(h.a,{path:"/audreport",component:Ma}),r.a.createElement(h.a,{path:"/",component:Wt}))))}}]),t}(r.a.Component),Aa=Object(w.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(E.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(f.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},h5:{marginBottom:2*e.spacing.unit}}})(Ia),Ra=a(282),$a=a(128),qa=a(682),La=new Ra.a({link:new $a.a({uri:"/graphql",credentials:"same-origin"}),cache:new qa.a}),Ta=a(320),Ya=a.n(Ta),Ka=a(191),Wa=a.n(Ka),za=a(91),Fa=a.n(za),Ha=a(190),Qa=a.n(Ha),Ja=a(321),Ua=a.n(Ja),Ga=a(6),Va=a.n(Ga);function Xa(){var e=Object(ie.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      sid\n      organizationSid\n      status\n      emailAddress\n      friendlyName\n      role\n      type\n      dateCreated\n      dateUpdated\n    }\n  }\n"]);return Xa=function(){return e},e}var Za=Object(se.a)(Xa()),_a=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleLogin=function(){var e=Object(Ye.a)(Te.a.mark(function e(t,n,r){var l,o,c,i;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,a.state.email&&a.state.password){e.next=5;break}return alert("Information provide is invalid."),e.abrupt("return");case 5:return e.next=7,n({variables:{username:a.state.email,password:a.state.password}});case 7:l=e.sent,o=l.data.login,c=o.sid,i=o.token,r({id:c,token:i}),a.props.history.push("/dashboard"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert(e.t0.message);case 16:case"end":return e.stop()}},e,this,[[1,13]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("main",{className:t.main},r.a.createElement(C.a,null),r.a.createElement(rt.a,{className:t.paper},r.a.createElement(Ya.a,{className:t.avatar},r.a.createElement(Ua.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(g.Mutation,{mutation:Za},function(a){return r.a.createElement(Lt,null,function(n){var l=n.onloginChange;return r.a.createElement("form",{method:"POST",className:t.form,onSubmit:function(t){return e.handleLogin(t,a,l)}},r.a.createElement(Wa.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(Qa.a,{htmlFor:"email"},"Email Address"),r.a.createElement(Fa.a,{required:!0,id:"email",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},value:e.state.email})),r.a.createElement(Wa.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(Qa.a,{htmlFor:"password"},"Password"),r.a.createElement(Fa.a,{required:!0,name:"password",type:"password",id:"password",autoComplete:"current-password",value:e.state.password,onChange:function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))}})),r.a.createElement(ft.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign in"))})})))}}]),t}(r.a.Component),en=Va()(function(e){return{main:Object(f.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(_a),tn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(g.ApolloProvider,{client:La},r.a.createElement(qt,null,r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/login",component:en}),r.a.createElement(h.a,{path:"/",component:Aa})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(tn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[324,2,1]]]);
//# sourceMappingURL=main.1f2b2d29.chunk.js.map